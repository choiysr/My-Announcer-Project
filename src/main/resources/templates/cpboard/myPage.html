<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{/layout/todayListLayout}">
<style>
   #addFileTable {
      border-spacing: 10px;
      border-collapse: separate;
   }
</style>

<body>

   <div layout:fragment="custom-content">
      <div class="heading-banner-area overlay-bg">
         <div class="container">
            <div class="row">
               <div class="col-md-12">
                  <div class="heading-banner">
                     <div class="heading-banner-title">
                        <h2>My Page</h2>
                     </div>
                     <div class="breadcumbs pb-15">
                        <ul>
                           <li><a href="index.html">Home</a></li>
                           <li>My Page</li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <div class="shopping-cart-area  pt-50 pb-60">

         <div class="container">
            <div class="row">
               <div class="col-md-12 col-sm-12 col-xs-12">
                  <div class="shopping-cart">
                     <!-- Nav tabs -->
                     <ul class="cart-page-menu row clearfix mb-30">
                        <li class="active"><a href="#todayList" data-toggle="tab" id="todayListBtn">오늘의 방송</a></li>
                        <li><a href="#myPage" data-toggle="tab">My Page</a></li>
                        <li><a href="#totalList" data-toggle="tab">모든방송</a></li>
                        <li><a href="#" data-toggle="tab">구독한 컨텐츠</a></li>
                     </ul>

                     <!-- Tab panes -->
                     <!-- <div class="shop-cart-table"> -->
                     <div class="shop-cart-table">
                        <!-- todayList start -->
                        <div class="tab-pane active" id="myPage">
                           <form action="#">
                              <div class="col-lg-12">
                                 <div class="single-product clearfix">
                                    <div class="profileImg" style="padding: 15px; float:left; margin-right: 10px; ">
                                       <img id="CPThumnail"
                                          src=""
                                          width="100px" height="100px" alt="">
                                       <input style="display: none;" id="imgUpload" type="file">
                                    </div>

                                    <div class="product-info" style="width: 30vw; float:left; padding: 15px;">

                                       <div class="fix mb-20">
                                          <span class="pro-price">
                                             <p id="title">aaaaa</p>
                                          </span>
                                          <input   style="width: 20vw; display: none;" maxlength="30" id="cpInfoTitle" type="text"
                                             class="custom-select mb-15 ">
                                       </div>
                                       <p id="id">cptest2</p>
                                       <p id="introduce">ssssss</p>
                                       <input style="width: 20vw; display: none;" maxlength="50" id="cpInfoIntroduce" type="text"
                                          class="custom-select mb-15 ">
                                    </div>
                                    <div class="btnArea" style="float: left; ">
                                       <button id="modifyInfo" data-text="수정완료" style="display: none;" class="button-one submit-button mt-15">수정완료</button><br>
                                       <button id="modifyInfoBtn" data-text="정보수정" class="button-one submit-button mt-15">정보수정</button><br>
                                       <button id="registerFiles" data-text="방송등록"
                                          class="button-one submit-button mt-15" onclick="event.preventDefault(); scrollupTrigger(); openModal('addFileModal')">방송등록</button>
                                    </div>
                                 </div>
                                 <!-- </div> -->
                                 <!-- Single-product end -->

                              </div>
                              <!-- end of col-lg-12 -->
                           </form>
                           <br> <br> <br>
                           <!-- 리스트나오는곳  -->
                           <div class="table-content table-responsive">
                              <table id="cpboardList" class="table table-condensed">
                                 <th>방송일자</th>
                                 <th>제목</th>
                                 <th>파일명</th>
                                 <th>수정/삭제</th>
                              </table>
                           </div>
                        </div>


                        <!-- check-out start -->
                        <!-- 등록창 -->
                        <div class="tab-pane" id="registerModal">
                           <form action="#">
                              <div class="shop-cart-table check-out-wrap">
                                 <div class="row">

                                 </div>
                              </div>
                           </form>
                        </div>
                        <!-- check-out end -->

                        <!-- totalList start -->
                        <div class="tab-pane" id="totalList">
                           <form action="#">

                           </form>
                        </div>


                        <!-- 방송업로드 modal -->
                        <div class="modal fade addFileModal" id="layerpop" data-backdrop="static">
                           <div class="modal-dialog">
                              <div class="modal-content">
                                 <!-- header -->
                                 <div class="modal-header">
                                    <!-- 닫기(x) 버튼 -->
                                    <button type="button" class="close" id="closeCPRegisterModal" data-dismiss="modal"
                                       onclick="resetCPUploadElements()">×</button>
                                    <!-- header title -->
                                    <h4 class="modal-title">방송업로드</h4>
                                 </div>
                                 <!-- body -->
                                 <div style="text-align: center;">
                                    <div class="modal-body" style="display: inline-block;">
                                       <table class="tableForm" id="addFileTable">
                                          <tr>
                                             <td colspan="4">
                                                <input type="file" id="addFiles" multiple>
                                             </td>
                                          </tr>
                                          <tr>
                                             <td>　</td>
                                          </tr>
                                          <tr>
                                             <td>송출일자</td>
                                             <td>방송제목</td>
                                             <td>파일</td>
                                             <td>삭제</td>
                                          </tr>
                                          <tbody id="filelistArea"></tbody>
                                       </table>
                                       <!-- end of Table -->
                                       <button id="deleteFiles">선택한 파일삭제</button>
                                    </div>
                                 </div>
                                 <!-- Footer -->
                                 <div class="modal-footer">
                                    <button id="submitBtn">등록</button>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <!-- end of 방송업로드 modal -->


                        <!-- 조회/수정 modal -->
                        <div class="modal fade readBoardModal" id="layerpop" data-backdrop="static">
                           <div class="modal-dialog">
                              <div class="modal-content">
                                 <!-- header -->
                                 <div class="modal-header">
                                    <!-- 닫기(x) 버튼 -->
                                    <button type="button" class="close" id="closeCPRegisterModal" data-dismiss="modal"
                                       onclick="resetCPUploadElements()">×</button>
                                    <!-- header title -->
                                    <h4 class="modal-title">조회/수정</h4>
                                 </div>
                                 <!-- body -->
                                 <div style="text-align: center;">
                                    <div class="modal-body" style="display: inline-block;">
                                       <table class="readOneBoardTable">
                                          <tr>
                                             <td>송출일자</td>
                                             <td>방송제목</td>
                                             <td>파일</td>
                                          </tr>
                                          <tbody id="oneBoardReceived"></tbody>
                                       </table>
                                       <!-- end of Table -->
                                    </div>
                                 </div>
                                 <!-- Footer -->
                                 <div class="modal-footer">
                                    <button id="modifyCPBoardBtn">수정</button>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <!-- end of 조회/수정 modal -->

                     </div>
                  </div>
               </div>
            </div>
         </div>
         <!-- end of container -->


      </div>

      <script th:src="@{~/js/vendor/jquery-1.12.0.min.js}"></script>
      <script th:src="@{~/js/mscustom/functions.js}"></script>
      <script th:src="@{~/js/mscustom/cpMyPage.js}"></script>
      <script th:src="@{~/js/mscustom/cpvals.js}"></script>
      

      <script>

         var formDataForFiles = new FormData();
         function scrollupTrigger() {
            $("#scrollUp").trigger("click");
         }
         $(document).ready(function () {
            loadPage();
            getCPBoardList();
            $("#addFiles").on("change", showFiles);
            $("#deleteFiles").on("click", deleteFiles);
            $("#submitBtn").on("click", registerFiles);
            $("#modifyCPBoardBtn").on("click", modifyCPBoard);
            
         })

      </script>

   </div>
   <!--이건 왜 여기 와야 하는걸까? -->
</body>

</html>